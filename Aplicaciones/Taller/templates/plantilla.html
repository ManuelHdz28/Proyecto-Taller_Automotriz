<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>{% block title %} Titulo por Defecto {% endblock title %} </title> <!-- * Título de la página -->

    <!-- * Enlace a jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

    <!-- * Enlaces a archivos estáticos -->

    <!-- * Enlace a la hoja de estilos -->
    <link rel="stylesheet" src="{% static 'css/style.css' %}"> 
    <meta charset="UTF-8"> <!-- * Codificación de caracteres -->


    <!-- * Enlace a DataTables para tablas dinámicas -->
    <script src="https://cdn.jsdelivr.net/npm/datatables@1.10.18/media/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/datatables@1.10.18/media/css/jquery.dataTables.min.css">

    <!-- * Enlace a jQuery Validation para validación de formularios -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.js"></script> 

    <!-- * Enlaces a Bootstrap y librerías de terceros -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    
    <!-- * Enlace a la plantilla de Bootstrap Flatly -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.6/dist/flatly/bootstrap.min.css"> 

    <!-- * Enlace a la librería iziToast para notificaciones -->
    <script src="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js"></script> 

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css"> <!-- * Enlace a la hoja de estilos de iziToast -->
    <link rel="shortcut icon" href="{% static 'icono.ico' %}" type="image/x-icon"> <!-- * Icono de la página -->

    <!-- Lightbox CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet">
    <!-- Lightbox JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>

    <!-- * Enlace a un archivo JavaScript personalizado -->
    <script src="{% static 'js/messages.js' %}"></script> 
    <script src="{% static 'js/tabla.js' %}"></script> <!-- * Enlace a un archivo JavaScript para manejar tablas -->
    <script src="{% static 'js/validate.js' %}"></script> <!-- * Enlace a un archivo JavaScript para validación de formularios -->

</head>

<body>

    <!-- * Barra de navegación -->
<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Taller Automotriz</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="{% url 'mantenimientos' %}"> Mantenimientos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'repuestos' %}">Repuestos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'gestion_vehiculos' %}">Gestion Vehiculos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'tipos_mantenimiento' %}">Tipos Mantenimiento</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <!-- * Contenido principal -->
    <main>
        {% block content %} <!-- * Contenido de la página -->
        
        {% endblock %}
    </main>



    <header>
        
    </header>
    
    {% for message in messages %}

  <script>

    let message = "{{ message }}"; // Asignar el mensaje a una variable
    console.log(message); // Imprimir el mensaje en la consola

    if (message === "Ya existe un tipo de mantenimiento con ese nombre."){
        iziToast.error({
          title: 'ERROR!',
           message: message,
         });
    } else {
      iziToast.success({
        title: 'EXITO!',
        message: message,
      });
    }











    {% comment %} if messages.tags == 'success' {
        iziToast.success({ 
          title: 'EXITO!',
           message: '{{ messages }}',
         });
    } else if messages.tags == 'error' {
         iziToast.error({
          title: 'ERROR!',
           message: '{{ messages }}',
         });
    }  {% endcomment %}
  </script>
    {% endfor %}


</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
</html>